
<!doctype html>
<html lang="es" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Apuntes, teor√≠a, pr√°cticas, ejercicio del curso de especializaci√≥n de ciberseguridad. IES severo ochoa Elche. Hacking √©tico. incidentes de seguridad, puesta en producci√≥n segura. En este caso vamos a ver qu√© son los logs de un sistema, para qu√© sirven y c√≥mo se pueden o deben analizar para realizar una correcta respuesta a incidentes, investigando los √≠ndices de compromiso, formando parte de la seguridad defensiva. Aqu√≠ hablaremos del Elastic Stack, es decir, ElasticSearch + Logstash + Kibana + Beats.">
      
      
      
        <link rel="canonical" href="https://raul-profesor.github.io/Curso-especialista-ciberseguridad/segdef/logs/">
      
      
        <link rel="prev" href="../">
      
      
        <link rel="next" href="../idps/">
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.4.2, mkdocs-material-9.1.8">
    
    
      
        <title>An√°lisis de logs en seguridad defensiva y respuesta a incidentes - Seguridad en sistemas del curso de especialista en ciberseguridad</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.ded33207.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.a0c5b2b5.min.css">
      
      

    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../stylesheets/extra.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      
  


  
  


  <script id="__analytics">function __md_analytics(){function n(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],n("js",new Date),n("config","G-3NX5MD5C8H"),document.addEventListener("DOMContentLoaded",function(){document.forms.search&&document.forms.search.query.addEventListener("blur",function(){this.value&&n("event","search",{search_term:this.value})}),document$.subscribe(function(){var a=document.forms.feedback;if(void 0!==a)for(var e of a.querySelectorAll("[type=submit]"))e.addEventListener("click",function(e){e.preventDefault();var t=document.location.pathname,e=this.getAttribute("data-md-value");n("event","feedback",{page:t,data:e}),a.firstElementChild.disabled=!0;e=a.querySelector(".md-feedback__note [data-md-value='"+e+"']");e&&(e.hidden=!1)}),a.hidden=!1}),location$.subscribe(function(e){n("config","G-3NX5MD5C8H",{page_path:e.pathname})})});var e=document.createElement("script");e.async=!0,e.src="https://www.googletagmanager.com/gtag/js?id=G-3NX5MD5C8H",document.getElementById("__analytics").insertAdjacentElement("afterEnd",e)}</script>

  
    <script>"undefined"!=typeof __md_analytics&&__md_analytics()</script>
  

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="light-green" data-md-color-accent="indigo">
  
    
    
      <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#introduccion" class="md-skip">
          Saltar a contenido
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Cabecera">
    <a href="../.." title="Seguridad en sistemas del curso de especialista en ciberseguridad" class="md-header__button md-logo" aria-label="Seguridad en sistemas del curso de especialista en ciberseguridad" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Seguridad en sistemas del curso de especialista en ciberseguridad
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              An√°lisis de logs en seguridad defensiva y respuesta a incidentes
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
          
            
            
            
            <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="light-green" data-md-color-accent="indigo"  aria-label="Cambiar a modo oscuro"  type="radio" name="__palette" id="__palette_1">
            
              <label class="md-header__button md-icon" title="Cambiar a modo oscuro" for="__palette_2" hidden>
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 6H7c-3.31 0-6 2.69-6 6s2.69 6 6 6h10c3.31 0 6-2.69 6-6s-2.69-6-6-6zm0 10H7c-2.21 0-4-1.79-4-4s1.79-4 4-4h10c2.21 0 4 1.79 4 4s-1.79 4-4 4zM7 9c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"/></svg>
              </label>
            
          
            
            
            
            <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="teal" data-md-color-accent="indigo"  aria-label="Cambiar a modo normal"  type="radio" name="__palette" id="__palette_2">
            
              <label class="md-header__button md-icon" title="Cambiar a modo normal" for="__palette_1" hidden>
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5m0 8a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3Z"/></svg>
              </label>
            
          
        </form>
      
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="B√∫squeda" placeholder="B√∫squeda" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Buscar">
        
        <button type="reset" class="md-search__icon md-icon" title="Limpiar" aria-label="Limpiar" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Inicializando b√∫squeda
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Pesta√±as" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../section/" class="md-tabs__link">
        Warm up
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../segof/" class="md-tabs__link">
        Seguridad ofensiva
      </a>
    </li>
  

      
        
  
  
    
  


  
  
  
    <li class="md-tabs__item">
      <a href="../" class="md-tabs__link md-tabs__link--active">
        Seguridad defensiva
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../IR/intro/" class="md-tabs__link">
        Respuesta a incidentes (IR)
      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

  


  

<nav class="md-nav md-nav--primary md-nav--lifted md-nav--integrated" aria-label="Navegaci√≥n" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Seguridad en sistemas del curso de especialista en ciberseguridad" class="md-nav__button md-logo" aria-label="Seguridad en sistemas del curso de especialista en ciberseguridad" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    Seguridad en sistemas del curso de especialista en ciberseguridad
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
        
      
      <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_1" >
      
      
        
          
            
          
        
          
        
          
        
          
        
          
        
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../section/">Warm up</a>
          
            <label for="__nav_1">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_1_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_1">
          <span class="md-nav__icon md-icon"></span>
          Warm up
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../section/EntLinux/" class="md-nav__link">
        Entornos Linux
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../section/Ej_Linux/" class="md-nav__link">
        Ejercicios propuestos Linux
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../section/EntWin/" class="md-nav__link">
        Entornos Windows
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../section/Ej_Win/" class="md-nav__link">
        Ejercicios propuestos Windows
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../section/webgrafia/" class="md-nav__link">
        Webgraf√≠a
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
        
      
      <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_2" >
      
      
        
          
            
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../segof/">Seguridad ofensiva</a>
          
            <label for="__nav_2">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          Seguridad ofensiva
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../segof/Intro/" class="md-nav__link">
        Introducci√≥n
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../segof/nmap101/" class="md-nav__link">
        Introducci√≥n a Nmap
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../segof/enumeracion/" class="md-nav__link">
        Enumeraci√≥n de servicios
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../segof/servicios_desact/" class="md-nav__link">
        Causas de vulnerabilidades en sistemas
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../segof/exploit/" class="md-nav__link">
        Explotaci√≥n de vulnerabilidades
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../segof/metasploit/" class="md-nav__link">
        Metasploit
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../segof/EternalBlue/" class="md-nav__link">
        Ejercicio pr√°ctico - Explotaci√≥n de EternalBlue
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../segof/rev_shell/" class="md-nav__link">
        Shells
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../segof/privesc/" class="md-nav__link">
        Escalada de privilegios
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../segof/ad_enumeration/" class="md-nav__link">
        Enumeraci√≥n en entornos AD (Active Directory)
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../segof/passw_manag/" class="md-nav__link">
        Gesti√≥n y almacenamiento de credenciales en Windows
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../segof/phising/" class="md-nav__link">
        Spoofing & phising
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../segof/HackingAD1/" class="md-nav__link">
        Ataques en entornos Active Directory
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../segof/Pivoting/" class="md-nav__link">
        Laboratorio de pivoting
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../segof/webgrafia/" class="md-nav__link">
        Webgraf√≠a
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" checked>
      
      
        
          
            
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../">Seguridad defensiva</a>
          
            <label for="__nav_3">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="true">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          Seguridad defensiva
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          An√°lisis de Logs
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        An√°lisis de Logs
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Tabla de contenidos">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Tabla de contenidos
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#introduccion" class="md-nav__link">
    Introducci√≥n
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#por-que-es-importante-el-analisis-de-los-logs" class="md-nav__link">
    ¬øPor qu√© es importante el an√°lisis de los logs?
  </a>
  
    <nav class="md-nav" aria-label="¬øPor qu√© es importante el an√°lisis de los logs?">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#un-mejor-troubleshooting" class="md-nav__link">
    Un mejor troubleshooting
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mejora-de-la-seguridad" class="md-nav__link">
    Mejora de la seguridad
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#experiencia-de-usuario-mejorada" class="md-nav__link">
    Experiencia de usuario mejorada
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#por-que-es-importante-el-analisis-de-los-logs-en-ciberseguridad" class="md-nav__link">
    ¬øPor qu√© es importante el an√°lisis de los logs... en ciberseguridad?
  </a>
  
    <nav class="md-nav" aria-label="¬øPor qu√© es importante el an√°lisis de los logs... en ciberseguridad?">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-deteccion-de-amenazas-en-tiempo-real" class="md-nav__link">
    ‚ë† Detecci√≥n de amenazas en tiempo real
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-respuesta-rapida-a-incidentes" class="md-nav__link">
    ‚ë° Respuesta r√°pida a incidentes
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-analisis-forense-y-auditoria" class="md-nav__link">
    ‚ë¢ An√°lisis forense y auditor√≠a
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4-cumplimiento-de-normativas-y-regulaciones" class="md-nav__link">
    ‚ë£ Cumplimiento de normativas y regulaciones
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#5-deteccion-de-comportamiento-anomalo" class="md-nav__link">
    ‚ë§ Detecci√≥n de comportamiento an√≥malo
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#6-correlacion-de-eventos-y-caza-de-amenazas" class="md-nav__link">
    ‚ë• Correlaci√≥n de eventos y caza de amenazas
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#como-se-realiza-el-analisis-de-logs" class="md-nav__link">
    ¬øC√≥mo se realiza el an√°lisis de logs?
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#las-limitaciones-de-la-indexacion" class="md-nav__link">
    Las limitaciones de la indexaci√≥n
  </a>
  
    <nav class="md-nav" aria-label="Las limitaciones de la indexaci√≥n">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#como-superar-estas-limitaciones" class="md-nav__link">
    ¬øC√≥mo superar estas limitaciones?
  </a>
  
    <nav class="md-nav" aria-label="¬øC√≥mo superar estas limitaciones?">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#conclusion" class="md-nav__link">
    Conclusi√≥n
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#metodos-de-analisis-de-logs" class="md-nav__link">
    M√©todos de an√°lisis de logs
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#elk-stack" class="md-nav__link">
    ELK Stack
  </a>
  
    <nav class="md-nav" aria-label="ELK Stack">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#arquitectura-de-elk" class="md-nav__link">
    Arquitectura de ELK
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#que-es-elasticsearch" class="md-nav__link">
    ¬øQu√© es Elasticsearch?
  </a>
  
    <nav class="md-nav" aria-label="¬øQu√© es Elasticsearch?">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#terminos-utilizados-en-elastic-search" class="md-nav__link">
    T√©rminos utilizados en Elastic Search
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#que-es-logstash" class="md-nav__link">
    ¬øQu√© es Logstash?
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#que-es-kibana" class="md-nav__link">
    ¬øQu√© es Kibana?
  </a>
  
    <nav class="md-nav" aria-label="¬øQu√© es Kibana?">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#para-que-es-adecuado-elk" class="md-nav__link">
    ¬øPara qu√© es adecuado ELK?
  </a>
  
    <nav class="md-nav" aria-label="¬øPara qu√© es adecuado ELK?">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#cuando-existe-una-falta-de-consistencia" class="md-nav__link">
    Cuando existe una falta de consistencia
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#existen-diferentes-formatos-de-tiempo" class="md-nav__link">
    Existen diferentes formatos de tiempo
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#descentralizado" class="md-nav__link">
    Descentralizado
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#falta-de-conocimientos" class="md-nav__link">
    Falta de conocimientos
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#referencias" class="md-nav__link">
    Referencias
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../idps/" class="md-nav__link">
        Monitorizaci√≥n con IDS/IPS
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../hardening.ssh/" class="md-nav__link">
        Hardening SSH
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../seconion/" class="md-nav__link">
        Monitorizaci√≥n con Security Onion
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../arkime/" class="md-nav__link">
        Monitorizaci√≥n de red con Arkime
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../truffle/" class="md-nav__link">
        An√°lisis de archivos con TruffleHog
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../truffle2/" class="md-nav__link">
        (ACTUALIZADO) An√°lisis de archivos con TruffleHog
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../trivy/" class="md-nav__link">
        An√°lisis de infraestructura (contenedores) con Trivy
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../wazuh/" class="md-nav__link">
        Detecci√≥n de web shells con Wazuh
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
        
      
      <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_4" >
      
      
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
          Respuesta a incidentes (IR)
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          Respuesta a incidentes (IR)
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../IR/intro/" class="md-nav__link">
        Introduci√≥n a la respuesta a incidentes
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../IR/casos/" class="md-nav__link">
        Casos pr√°cticos de respuesta a incidentes
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  <h1>An√°lisis de Logs</h1>

<h2 id="introduccion">Introducci√≥n</h2>
<p>El an√°lisis de logs es el proceso de revisar logs de eventos generados por un computador para, de esta forma, identificar de forma proactiva bugs, amenazas de seguridad u otros riesgos. El an√°lisis de logs puede usarse en un espectro m√°s amplio, como por ejemplo el cumplimiento de determinadas normativas o revisar comportamientos de los usuarios.</p>
<p>Un log es un archivo que captura toda actividad dentro del sistema operativo, aplicaci√≥n software o dispositivo. Estos archivos documentan autom√°ticamente cualquier informaci√≥n designada por los administradores de sistemas, incluyendo:</p>
<ul>
<li>Mensajes</li>
<li>Reportes de error</li>
<li>Peticiones de archivo</li>
<li>Transferencia de archivos</li>
<li>Peticiones login/logout</li>
</ul>
<p>De igual manera la actividad viene marcada con fecha y hora, lo que ayuda a los profesionales a mantener una traza del evento en cuesti√≥n.</p>
<h2 id="por-que-es-importante-el-analisis-de-los-logs">¬øPor qu√© es importante el an√°lisis de los logs?</h2>
<p>En muchos casos, por una cuesti√≥n legal. Las organizaciones se deben adherir a una regulaci√≥n espec√≠fica que dicta como se almacena y analizan los datos.</p>
<p>Mas all√° de los requerimientos legales, el an√°lisis de los logs, cuando se hace de forma eficaz, puede proporcionar difrenetes beneficios para el negocio. A continuaci√≥n vemos algunos.</p>
<h3 id="un-mejor-troubleshooting">Un mejor troubleshooting</h3>
<p>Las organizaciones que revisan y analizan regularmente los logs suelen ser capaces de identificar errores con mayor rapidez. Con una herramienta avanzada de an√°lisis de logs, la empresa puede incluso ser capaz de localizar los problemas antes de que se produzcan, lo que reduce en gran medida el tiempo y el coste de remediaci√≥n.</p>
<p>El log tambi√©n ayuda al analizador de logs a revisar los eventos que llevan al error, lo que puede hacer que el problema sea m√°s f√°cil de solucionar (troubleshooting), as√≠ como de prevenir en el futuro.</p>
<h3 id="mejora-de-la-seguridad">Mejora de la seguridad</h3>
<p>Un an√°lisis eficaz de los logs refuerza considerablemente las capacidades de ciberseguridad de la organizaci√≥n. La revisi√≥n y el an√°lisis peri√≥dicos de los logs ayudan a las organizaciones a detectar con mayor rapidez las anomal√≠as, contener las amenazas y priorizar las respuestas.</p>
<h3 id="experiencia-de-usuario-mejorada">Experiencia de usuario mejorada</h3>
<p>El an√°lisis de logs ayuda a las empresas a garantizar que todas las aplicaciones y herramientas orientadas al cliente est√©n plenamente operativas y seguras. La revisi√≥n coherente y proactiva de los eventos de logs ayuda a la organizaci√≥n a identificar r√°pidamente las interrupciones o incluso a prevenir dichos problemas, mejorando la satisfacci√≥n y reduciendo la rotaci√≥n de personal.</p>
<h2 id="por-que-es-importante-el-analisis-de-los-logs-en-ciberseguridad">¬øPor qu√© es importante el an√°lisis de los logs... <u>en ciberseguridad</u>?</h2>
<p>El <strong>an√°lisis de logs</strong> es fundamental en <strong>ciberseguridad</strong> porque permite detectar, investigar y responder a incidentes de seguridad en tiempo real. Los logs registran <strong>todas las actividades</strong> en sistemas, redes y aplicaciones, lo que los convierte en una fuente clave de informaci√≥n para identificar amenazas y vulnerabilidades.  </p>
<hr />
<h3 id="1-deteccion-de-amenazas-en-tiempo-real">‚ë† Detecci√≥n de amenazas en tiempo real</h3>
<p>üìå <strong>Ejemplo:</strong> Un SIEM analiza los logs y detecta m√∫ltiples intentos de autenticaci√≥n fallidos desde una misma IP en pocos segundos ‚Üí Posible ataque de <strong>fuerza bruta</strong>.  </p>
<p>‚úî <strong>Previene accesos no autorizados y permite activar alertas tempranas.</strong>  </p>
<hr />
<h3 id="2-respuesta-rapida-a-incidentes">‚ë° Respuesta r√°pida a incidentes</h3>
<p>üìå <strong>Ejemplo:</strong> Un firewall bloquea un tr√°fico sospechoso y genera un log con la IP de origen. Los analistas pueden correlacionar estos eventos con otros logs para determinar si es parte de un ataque mayor.  </p>
<p>‚úî <strong>Ayuda a investigar y mitigar ataques r√°pidamente.</strong>  </p>
<hr />
<h3 id="3-analisis-forense-y-auditoria">‚ë¢ An√°lisis forense y auditor√≠a</h3>
<p>üìå <strong>Ejemplo:</strong> Despu√©s de una intrusi√≥n, los logs pueden revelar c√≥mo se produjo el acceso, qu√© archivos se modificaron y qu√© comandos ejecut√≥ el atacante.  </p>
<p>‚úî <strong>Permite reconstruir eventos y fortalecer la seguridad para evitar incidentes futuros.</strong>  </p>
<hr />
<h3 id="4-cumplimiento-de-normativas-y-regulaciones">‚ë£ Cumplimiento de normativas y regulaciones</h3>
<p>üìå <strong>Ejemplo:</strong> Normativas como <strong>GDPR, ISO 27001 o PCI-DSS</strong> exigen la retenci√≥n y an√°lisis de logs para garantizar la seguridad de los datos.  </p>
<p>‚úî <strong>Evita sanciones legales y demuestra cumplimiento en auditor√≠as.</strong>  </p>
<hr />
<h3 id="5-deteccion-de-comportamiento-anomalo">‚ë§ Detecci√≥n de comportamiento an√≥malo</h3>
<p>üìå <strong>Ejemplo:</strong> Un usuario accede a la red desde una ubicaci√≥n geogr√°fica inusual y a horarios fuera de su rutina ‚Üí Posible cuenta comprometida (<strong>TTPs de MITRE ATT&amp;CK</strong>).  </p>
<p>‚úî <strong>Ayuda a identificar ataques avanzados como APTs o movimientos laterales.</strong>  </p>
<hr />
<h3 id="6-correlacion-de-eventos-y-caza-de-amenazas">‚ë• Correlaci√≥n de eventos y caza de amenazas</h3>
<p>üìå <strong>Ejemplo:</strong> Un SIEM correlaciona logs de firewalls, servidores y endpoints para detectar patrones de ataque, como la combinaci√≥n de un escaneo de red seguido de intentos de explotaci√≥n.  </p>
<p>‚úî <strong>Permite anticiparse a ataques antes de que causen da√±o.</strong>  </p>
<hr />
<h2 id="como-se-realiza-el-analisis-de-logs">¬øC√≥mo se realiza el an√°lisis de logs?</h2>
<p>El an√°lisis de logs suele realizarse en un sistema de gesti√≥n de logs, una soluci√≥n de software que recopila, clasifica y almacena datos de log y logs de eventos de diversas fuentes.</p>
<p><img alt="" src="../../img/log_analysis.png" /></p>
<p>La plataforma de gesti√≥n de logs permite al equipo inform√°tico y a los profesionales de la seguridad establecer un √∫nico punto desde el que acceder a todos los datos relevantes de puntos finales, redes y aplicaciones. Normalmente, este archivo de log est√° totalmente indexado y permite realizar b√∫squedas, lo que significa que el analizador de logs puede acceder f√°cilmente a los datos que necesita para tomar decisiones sobre la salud de la red, la asignaci√≥n de recursos o la seguridad.</p>
<p>La actividad suele incluir:</p>
<p><strong>Ingesti√≥n:</strong> Instalaci√≥n de un recolector de logs para recopilar datos de diversas fuentes, como el sistema operativo, las aplicaciones, los servidores, los hosts y cada punto final, en toda la infraestructura de red.</p>
<p><strong>Centralizaci√≥n:</strong> Agregaci√≥n de todos los datos de log en una √∫nica ubicaci√≥n, as√≠ como en un formato estandarizado independientemente de la fuente de log. Esto ayuda a simplificar el proceso de an√°lisis y a aumentar la velocidad a la que se pueden aplicar los datos en toda la empresa.</p>
<p><strong>B√∫squeda y an√°lisis:</strong> Aprovechamiento de una combinaci√≥n de an√°lisis de logs habilitados por IA/ML y recursos humanos para revisar y analizar errores conocidos, actividades sospechosas u otras anomal√≠as dentro del sistema. Dada la gran cantidad de datos disponibles en el log, es importante automatizar tanto como sea posible el proceso de an√°lisis del archivo de log. Tambi√©n se recomienda crear una representaci√≥n gr√°fica de los datos, mediante gr√°ficos de conocimiento u otra t√©cnica, para ayudar al equipo de TI a visualizar cada entrada del log, su cronolog√≠a e interrelaciones.</p>
<p><strong>Supervisi√≥n y alertas:</strong> El sistema de gesti√≥n de logs debe aprovechar el an√°lisis avanzado de logs para supervisar continuamente el log de cualquier evento de log que requiera atenci√≥n o intervenci√≥n humana. El sistema puede programarse para que emita alertas autom√°ticamente cuando se produzcan determinados eventos o no se cumplan determinadas condiciones.</p>
<p><strong>Informes:</strong> Por √∫ltimo, el LMS debe proporcionar un informe racionalizado de todos los eventos, as√≠ como una interfaz intuitiva que el analizador de logs pueda aprovechar para obtener informaci√≥n adicional del log.</p>
<h2 id="las-limitaciones-de-la-indexacion">Las limitaciones de la indexaci√≥n</h2>
<p>La indexaci√≥n de logs tiene varias limitaciones, especialmente cuando se manejan grandes vol√∫menes de datos en entornos de seguridad defensiva. Algunos de los principales l√≠mites son:</p>
<ol>
<li>
<p>Espacio de almacenamiento</p>
<p>Los √≠ndices ocupan mucho espacio, a veces m√°s que los propios logs sin procesar.
Puede ser costoso almacenar y mantener grandes vol√∫menes de datos indexados.</p>
</li>
<li>
<p>Rendimiento y escalabilidad</p>
<p>A medida que crece el volumen de logs, las b√∫squedas pueden volverse m√°s lentas.
La indexaci√≥n en tiempo real requiere recursos considerables (CPU, RAM y disco).
Sistemas mal dise√±ados pueden sufrir cuellos de botella en el procesamiento.</p>
</li>
<li>
<p>Latencia en la ingesta</p>
<p>En entornos de alta velocidad, como redes corporativas grandes, puede haber retrasos en la indexaci√≥n, afectando la detecci√≥n en tiempo real.</p>
</li>
<li>
<p>Complejidad en la consulta</p>
<p>Consultas mal optimizadas pueden afectar el rendimiento de la plataforma.
La correlaci√≥n de eventos entre distintos tipos de logs puede requerir un dise√±o avanzado de los √≠ndices.</p>
</li>
<li>
<p>Integridad y p√©rdida de datos</p>
<p>Si los √≠ndices se corrompen o no se replican correctamente, la b√∫squeda de eventos clave puede fallar.
Algunas herramientas pueden descartar logs si hay problemas de capacidad o errores de procesamiento.</p>
</li>
<li>
<p>Costos operativos</p>
<p>Plataformas comerciales como Splunk pueden ser costosas, especialmente si se indexan terabytes de datos al d√≠a.
Se requiere personal capacitado para administrar y optimizar la indexaci√≥n.</p>
</li>
</ol>
<p><img alt="" src="../../img/log_analysis2.png" /></p>
<p>En entornos de seguridad defensiva, es clave encontrar un equilibrio entre qu√© logs indexar, por cu√°nto tiempo almacenarlos y c√≥mo optimizar la infraestructura para evitar estos problemas. </p>
<p>Muchas soluciones de software de gesti√≥n de logs se basan en la indexaci√≥n para organizar el log. Aunque en el pasado se consideraba una soluci√≥n eficaz, la indexaci√≥n puede ser una actividad muy costosa desde el punto de vista inform√°tico, lo que provoca latencia entre los datos que entran en un sistema y los que se incluyen en los resultados de b√∫squeda y las visualizaciones. A medida que aumenta la velocidad a la que se producen y consumen los datos, √©sta es una limitaci√≥n que podr√≠a tener consecuencias devastadoras para las organizaciones que necesitan una visi√≥n en tiempo real del rendimiento y los eventos del sistema.</p>
<p>Adem√°s, con las soluciones basadas en √≠ndices, los patrones de b√∫squeda tambi√©n se definen en funci√≥n de lo que se ha indexado. Esta es otra limitaci√≥n cr√≠tica, sobre todo cuando se necesita una investigaci√≥n y no se pueden buscar los datos disponibles porque no se han indexado correctamente.</p>
<p>Las soluciones l√≠deres ofrecen b√∫squeda de texto libre, que permite al equipo de TI buscar en cualquier campo de cualquier log. Esta capacidad ayuda a mejorar la velocidad a la que el equipo puede trabajar sin comprometer el rendimiento.</p>
<h3 id="como-superar-estas-limitaciones">¬øC√≥mo superar estas limitaciones?</h3>
<p>Para mitigar las limitaciones de la indexaci√≥n de logs en seguridad defensiva, se pueden aplicar varias estrategias seg√∫n el problema espec√≠fico. Algunas soluciones clave:</p>
<ol>
<li>
<p><u><strong>Optimizaci√≥n del almacenamiento</strong></u></p>
<p>üîπ Compresi√≥n de logs ‚Üí Usar formatos eficientes como JSON compactado o formatos binarios (Parquet, Avro).</p>
<p>üîπ Pol√≠ticas de retenci√≥n ‚Üí Definir cu√°nto tiempo almacenar los logs indexados y archivar los m√°s antiguos en almacenamiento m√°s barato (ej. S3 Glacier, almacenamiento en fr√≠o en Elasticsearch).</p>
<p>üîπ Indexaci√≥n selectiva ‚Üí No indexar todo, sino solo los campos relevantes para las b√∫squedas y an√°lisis.</p>
<p>‚û° Ejemplo: En SIEMs como Splunk o Elastic, configurar hot-warm-cold storage para mover logs antiguos a almacenamiento menos costoso.</p>
</li>
<li>
<p><u><strong>Mejora del rendimiento y escalabilidad</strong></u></p>
<p>üîπ Sharding y clustering ‚Üí Distribuir la carga entre varios nodos en herramientas como Elasticsearch o Splunk.</p>
<p>üîπ Indexaci√≥n por particiones ‚Üí Crear √≠ndices por d√≠a/semana para evitar b√∫squedas en vol√∫menes masivos de datos.</p>
<p>üîπ Uso de cach√© ‚Üí Almacenar consultas frecuentes en memoria (Redis, Memcached) para acelerar b√∫squedas.</p>
<p>üîπ Filtrar logs en la ingesta ‚Üí Usar herramientas como Logstash, Fluentd o Vector para preprocesar datos antes de indexarlos.</p>
<p>‚û° Ejemplo: En un entorno de detecci√≥n de amenazas, podr√≠as indexar solo los eventos cr√≠ticos y almacenar el resto en bruto para auditor√≠as posteriores.</p>
</li>
<li>
<p><u><strong>Reducci√≥n de latencia en la ingesta</strong></u></p>
<p>üîπ Uso de pipelines eficientes ‚Üí Procesar logs en paralelo usando herramientas como Apache Kafka para manejar grandes vol√∫menes.</p>
<p>üîπ Carga balanceada ‚Üí Distribuir la ingesta en m√∫ltiples servidores para evitar cuellos de botella.</p>
<p>üîπ Eliminaci√≥n de duplicados y ruido ‚Üí Filtrar eventos irrelevantes o redundantes antes de indexar.</p>
<p>‚û° Ejemplo: Un SIEM con logs de firewall puede tener miles de eventos repetitivos (ej. tr√°fico permitido), los cuales pueden descartarse antes de indexar.</p>
</li>
<li>
<p><u><strong>Optimizaci√≥n de consultas</strong></u></p>
<p>üîπ Uso de alias y templates ‚Üí Definir estructuras de datos eficientes en herramientas como Elasticsearch.</p>
<p>üîπ Indexaci√≥n inversa ‚Üí Solo indexar t√©rminos clave en lugar de todo el contenido del log.</p>
<p>üîπ L√≠mites en el n√∫mero de documentos por b√∫squeda ‚Üí Evitar consultas que devuelvan demasiados resultados sin filtros adecuados.</p>
<p>‚û° Ejemplo: En Splunk, optimizar b√∫squedas con tstats en lugar de search, lo que reduce el uso de recursos.</p>
</li>
<li>
<p><u><strong>Prevenci√≥n de p√©rdida de datos e integridad</strong></u></p>
<p>üîπ Replica de √≠ndices ‚Üí Usar configuraciones de alta disponibilidad (ej. Elasticsearch replica shards).</p>
<p>üîπ Alertas en fallos de ingesta ‚Üí Monitorear pipelines con Prometheus, Grafana o herramientas de observabilidad.</p>
<p>üîπ Backup y restauraci√≥n ‚Üí Configurar copias de seguridad autom√°ticas en almacenamiento externo.</p>
<p>‚û° Ejemplo: Configurar backups autom√°ticos en un cl√∫ster de Elasticsearch para evitar p√©rdida de logs en caso de fallo del sistema.</p>
</li>
<li>
<p><u><strong>Reducci√≥n de costos operativos</strong></u></p>
<p>üîπ Usar alternativas open-source ‚Üí SIEMs como Wazuh o Elastic Stack en lugar de herramientas comerciales costosas.</p>
<p>üîπ Modelo h√≠brido (on-prem + nube) ‚Üí Almacenar logs recientes en servidores r√°pidos y logs antiguos en almacenamiento en la nube.</p>
<p>üîπ Uso de logs sin indexar ‚Üí Herramientas como AWS Athena permiten hacer consultas sin necesidad de indexar, reduciendo costos.</p>
<p>‚û° Ejemplo: En vez de indexar todos los logs en tiempo real, procesar solo los eventos cr√≠ticos y almacenar el resto en S3 con consultas bajo demanda.</p>
</li>
</ol>
<h4 id="conclusion">Conclusi√≥n</h4>
<p>La clave es encontrar un equilibrio entre rendimiento, costos y relevancia de los datos. Con un dise√±o inteligente de la infraestructura de logs, puedes mejorar la eficiencia sin comprometer la detecci√≥n de amenazas.</p>
<h2 id="metodos-de-analisis-de-logs">M√©todos de an√°lisis de logs</h2>
<p>Dada la enorme cantidad de datos que se crean en el mundo digital actual, a los profesionales de TI les resulta imposible gestionar y analizar manualmente los logs de un entorno tecnol√≥gico en expansi√≥n. Por ello, necesitan un sistema avanzado de gesti√≥n de logs y t√©cnicas que automaticen los aspectos clave de los procesos de recopilaci√≥n, formateo y an√°lisis de datos.</p>
<p>Estas t√©cnicas incluyen:</p>
<p><strong>Normalizaci√≥n</strong></p>
<p>La normalizaci√≥n es una t√©cnica de gesti√≥n de datos que garantiza que todos los datos y atributos del log de transacciones, como direcciones IP y marcas de tiempo, tengan un formato coherente.</p>
<p><strong>Reconocimiento de patrones</strong></p>
<p>El reconocimiento de patrones se refiere al filtrado de eventos basado en un libro de patrones con el fin de separar los eventos rutinarios de las anomal√≠as.</p>
<p><strong>Clasificaci√≥n y etiquetado</strong></p>
<p>La clasificaci√≥n y el etiquetado es el proceso de etiquetar los eventos con palabras clave y clasificarlos por grupos para poder revisar juntos los eventos similares o relacionados.</p>
<p><strong>An√°lisis de correlaci√≥n</strong></p>
<p>El an√°lisis de correlaci√≥n es una t√©cnica que recopila datos de log de varias fuentes diferentes y revisa la informaci√≥n en su conjunto mediante el an√°lisis de logs.</p>
<p><strong>Ignorancia artificial</strong></p>
<p>La ignorancia artificial se refiere a la desatenci√≥n activa de entradas que no son materiales para la salud o el rendimiento del sistema.</p>
<h2 id="elk-stack">ELK Stack</h2>
<p>La pila ELK (ELK stack) es una colecci√≥n de tres productos de c√≥digo abierto: Elasticsearch, Logstash y Kibana. La pila ELK proporciona logs centralizados para identificar problemas con servidores o aplicaciones. Permite buscar todos los logs en un √∫nico lugar. Tambi√©n ayuda a encontrar problemas en varios servidores mediante la conexi√≥n de logs durante un per√≠odo de tiempo espec√≠fico.</p>
<ul>
<li>E de ElasticSearch: Es un motor de b√∫squeda y almacenamiento, se utiliza para almacenar logs, permitiendo su ingesta as√≠ como las nombradas b√∫squedas e indexaci√≥n. </li>
<li>L significa LogStash: se utiliza tanto para el env√≠o como para el procesamiento y almacenamiento de logs. Ofrece unificaci√≥n de datos de diferentes fuentes, extray√©ndolos, filtr√°ndolos y normaliz√°ndolos.</li>
<li>K significa Kibana: es una herramienta de visualizaci√≥n (una interfaz web) que se aloja a trav√©s de Nginx o Apache. Est√° especializado en grandes vol√∫menes de datos, as√≠ como datos en tiempo real.</li>
</ul>
<p>Posteriormente un cuarto producto se ha a√±adido, <a href="https://www.elastic.co/es/beats/"><strong>Beats</strong></a>, que gestiona los agentes que recopila y env√≠an sus logs a ELK desde cada m√°quina.</p>
<p>ElasticSearch, LogStash y Kibana son desarrollados, gestionados y mantenidos por la empresa Elastic.</p>
<p>ELK Stack est√° dise√±ado para permitir a los usuarios tomar datos de cualquier fuente, en cualquier formato, y buscar, analizar y visualizar esos datos en tiempo real.</p>
<h3 id="arquitectura-de-elk">Arquitectura de ELK</h3>
<p>Una arquitectura t√≠pica de ELK:</p>
<p><img alt="" src="../../img/Arquitectura.ELK.webp" /></p>
<h2 id="que-es-elasticsearch">¬øQu√© es Elasticsearch?</h2>
<p>Elasticsearch es una base de datos NoSQL. Est√° basada en el motor de b√∫squeda Lucene, y est√° construida con RESTful APIS. Ofrece un despliegue sencillo, m√°xima fiabilidad y f√°cil gesti√≥n. Tambi√©n ofrece consultas avanzadas para realizar an√°lisis detallados y almacena todos los datos de forma centralizada. Es √∫til para ejecutar una b√∫squeda r√°pida de los documentos.</p>
<p>Elasticsearch tambi√©n permite almacenar, buscar y analizar grandes vol√∫menes de datos. Se utiliza sobre todo como motor subyacente para potenciar aplicaciones que completan los requisitos de b√∫squeda. Se ha adoptado en plataformas de motores de b√∫squeda para aplicaciones web y m√≥viles modernas. Adem√°s de una b√∫squeda r√°pida, la herramienta tambi√©n ofrece an√°lisis complejos y muchas funciones avanzadas.</p>
<h3 id="terminos-utilizados-en-elastic-search">T√©rminos utilizados en Elastic Search</h3>
<table>
<thead>
<tr>
<th>T√©rmino</th>
<th>Uso</th>
</tr>
</thead>
<tbody>
<tr>
<td>Cluster</td>
<td>Un cluster es una colecci√≥n de nodos que juntos almacenan datos y proveen capacidades de indexaci√≥n y b√∫squeda.</td>
</tr>
<tr>
<td>Nodo</td>
<td>Un nodo es una instancia de elasticsearch. Se crea cuando se inicia una instancia de elasticsearch.</td>
</tr>
<tr>
<td>√çndice</td>
<td>Un √≠ndice es una colecci√≥n de documentos que tienen caracter√≠sticas similares, por ejemplo, datos de clientes, cat√°logo de productos. Es muy √∫til cuando se realizan operaciones de indexaci√≥n, b√∫squeda, actualizaci√≥n y borrado. Permite definir tantos √≠ndices en un mismo cluster.</td>
</tr>
<tr>
<td>Documento</td>
<td>Es la unidad b√°sica de informaci√≥n que se puede indexar. Se expresa en un par JSON (clave: valor). '{"usuario": "nullcon"}'. Cada Documento est√° asociado a un tipo y a un id √∫nico.</td>
</tr>
<tr>
<td>Shard</td>
<td>Cada √≠ndice puede dividirse en varios shards para poder distribuir los datos. El shard es la parte at√≥mica de un √≠ndice, que se puede distribuir por el cluster si se quieren a√±adir m√°s nodos.</td>
</tr>
</tbody>
</table>
<h2 id="que-es-logstash">¬øQu√© es Logstash?</h2>
<p>Logstash es la herramienta de canalizaci√≥n de recopilaci√≥n de datos. Recoge entradas de datos y las alimenta hacia Elasticsearch. Re√∫ne todo tipo de datos de diferentes fuentes y los pone a disposici√≥n para su uso posterior.</p>
<p>Logstash puede unificar datos de fuentes dispares y normalizar los datos en los destinos deseados. Permite limpiar y democratizar todos los datos para la anal√≠tica y la visualizaci√≥n de casos de uso.</p>
<p>Consta de tres componentes:</p>
<ul>
<li><strong>Entrada:</strong> pasar los logs para procesarlos a un formato comprensible para la m√°quina.</li>
<li><strong>Filtros:</strong> Es un conjunto de condiciones para realizar una determinada acci√≥n o evento</li>
<li><strong>Salida:</strong> Toma de decisiones para el evento o registro procesado</li>
</ul>
<h2 id="que-es-kibana">¬øQu√© es Kibana?</h2>
<p>Kibana, como coment√°bamos, es un visualizador de datos que completa la pila ELK. El panel de control de Kibana ofrece varios diagramas interactivos, datos geoespaciales y gr√°ficos para visualizar consultas complejas.</p>
<p>Se puede utilizar para buscar, ver e interactuar con los datos almacenados en los directorios de Elasticsearch. Kibana le ayuda a realizar an√°lisis de datos avanzados y visualizar sus datos en una variedad de tablas, gr√°ficos y mapas.</p>
<h3 id="para-que-es-adecuado-elk">¬øPara qu√© es adecuado ELK?</h3>
<h4 id="cuando-existe-una-falta-de-consistencia">Cuando existe una falta de consistencia</h4>
<p>Tenemos muchos dispositivos con logs, y dentro de nuestros servidores, por ejemplo, tenemos distintos servicios funcionando y cada servicio tiene un tipo de log distinto. Los administradores de sistemas y DevOps gen√©ricamente, o administradores web o desarrolladores, necesitan acceder a dichos logs para comprobarlos, para lo que hay una gran dificultad, ya que los formatos var√≠an y son dif√≠ciles de entender.</p>
<h4 id="existen-diferentes-formatos-de-tiempo">Existen diferentes formatos de tiempo</h4>
<p>Cada log puede venir con un formato de tiempo distinto.</p>
<p>En algunos logs se incluye la fecha, otros vienen con timestamp, otros con la hora al finalizar, etc.</p>
<p>Ejemplo:</p>
<div class="highlight"><pre><span></span><code>Oct 04 12:15:21, 020289 07:23:24, 150260505
</code></pre></div>
<h4 id="descentralizado">Descentralizado</h4>
<p>Los logs se encuentran repartidos en todos los servidores que tengamos, cada servidor puede tener un tipo de log y dentro de un servidor puede haber diferentes rutas donde encontrarlos. Un administrador de sistemas, si tiene pocos servidores que administrar, puede acceder a ellos por ‚Äússh + grep‚Äù, pero si tiene muchos m√°s, esta opci√≥n no es escalable.</p>
<h4 id="falta-de-conocimientos">Falta de conocimientos</h4>
<p>Falta de conocimientos o que no se implementan bien las pol√≠ticas. Pueden deberse a varios motivos, por ejemplo: Las personas que tienen que acceder a un log no tienen permiso para acceder al mismo, por pol√≠ticas de empresa.</p>
<p>Estas personas no tienen experiencia para entender una l√≠nea de log. Algunos logs que tienen mucha informaci√≥n incluida en campos y cuando la informaci√≥n es tanta, a veces es complicado saber a qu√© representa cada n√∫mero o cadena de texto.</p>
<p>Desconocen d√≥nde se encuentran los logs, c√≥mo se actualizan, c√≥mo se van repartiendo, si se van borrando cada d√≠a‚Ä¶</p>
<h2 id="referencias">Referencias</h2>
<p><a href="https://www.techtarget.com/searchitoperations/definition/Elastic-Stack">Elastic Stack (ELK Stack) </a></p>
<p><a href="https://www.guru99.com/elk-stack-tutorial.html">ELK Stack Tutorial: What is Kibana, Logstash &amp; Elasticsearch?</a></p>
<p><a href="https://aws.amazon.com/es/what-is/elk-stack/">¬øQu√© es la pila ELK?</a></p>
<p><a href="https://openwebinars.net/blog/que-es-elk-elasticsearch-logstash-y-kibana/">¬øQU√â ES ELK? ElasticSearch, Logstash y Kibana</a></p>


  




                
              </article>
            </div>
          
          
  <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var tab,labels=set.querySelector(".tabbed-labels");for(tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>

        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg>
            Volver al principio
          </button>
        
      </main>
      
        <footer class="md-footer">
  
    
      
      <nav class="md-footer__inner md-grid" aria-label="Pie" >
        
          
          <a href="../" class="md-footer__link md-footer__link--prev" aria-label="Anterior: Apuntes y ejercicios pr√°cticas del curso de especializaci√≥n ciberseguridad" rel="prev">
            <div class="md-footer__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
            </div>
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Anterior
              </span>
              <div class="md-ellipsis">
                Apuntes y ejercicios pr√°cticas del curso de especializaci√≥n ciberseguridad
              </div>
            </div>
          </a>
        
        
          
          <a href="../idps/" class="md-footer__link md-footer__link--next" aria-label="Siguiente: Monitorizaci√≥n con IDS/IPS" rel="next">
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Siguiente
              </span>
              <div class="md-ellipsis">
                Monitorizaci√≥n con IDS/IPS
              </div>
            </div>
            <div class="md-footer__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg>
            </div>
          </a>
        
      </nav>
    
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.tabs", "toc.integrate", "navigation.expand", "navigation.top", "navigation.indexes", "content.tabs.link", "content.code.annotate", "content.code.copy", "navigation.footer"], "search": "../../assets/javascripts/workers/search.208ed371.min.js", "translations": {"clipboard.copied": "Copiado al portapapeles", "clipboard.copy": "Copiar al portapapeles", "search.result.more.one": "1 m\u00e1s en esta p\u00e1gina", "search.result.more.other": "# m\u00e1s en esta p\u00e1gina", "search.result.none": "No se encontraron documentos", "search.result.one": "1 documento encontrado", "search.result.other": "# documentos encontrados", "search.result.placeholder": "Teclee para comenzar b\u00fasqueda", "search.result.term.missing": "Falta", "select.version": "Seleccionar versi\u00f3n"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.51198bba.min.js"></script>
      
    
  </body>
</html>